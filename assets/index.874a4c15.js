import{d as e,r as n,w as o,o as t,c as l,a as r,b as a,v as s,F as i,e as u,t as p,f as d,g as c}from"./vendor.c15175ec.js";import{graphql as m}from"https://cdn.skypack.dev/@octokit/graphql";let h;const g={};var f=e({name:"App",setup(){const e=n(""),l=n("vitejs"),r=n("vite"),a=n([]),s=n();let i="";const u=e=>{const{location:n}=e;if(!n)return;console.log(n);let o=i.indexOf(n);if(o>0){const e=i.slice(0,o).lastIndexOf("\n"),n=i.indexOf("\n",o),t=i.slice(e+1,n-1).split(",").map((e=>e.slice(1,-1)));return{lat:Number(t[2]),lng:Number(t[3])}}};return o([e,l,r],(async()=>{a.value=[],s.value=void 0;try{const n=await m("\n              query ($repoOwner: String!, $repoName: String!) {\n                repository(owner: $repoOwner, name: $repoName) {\n                  collaborators {\n                    nodes {\n                      id\n                      login\n                      name\n                      avatarUrl\n                      location\n                      url\n                    }\n                    pageInfo {\n                      hasNextPage\n                    }\n                    totalCount\n                  }\n                  mentionableUsers(first: 10) {\n                    nodes {\n                      id\n                      login\n                      name\n                      avatarUrl\n                      location\n                      url\n                    }\n                    pageInfo {\n                      hasNextPage\n                    }\n                    totalCount\n                  }\n                }\n              }\n            ",{headers:{authorization:`token ${e.value}`},repoOwner:l.value,repoName:r.value});console.log(n),a.value=n.repository.collaborators.nodes;for(const e of a.value)e.geolocation=u(e)}catch(n){console.error(n),s.value=n.message}}),{immediate:!0}),t((()=>{(function(e,n){if(!n||0===n.length)return e();if(void 0===h){const e=document.createElement("link").relList;h=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(n.map((e=>{if((e=`/github-contributors-map/${e}`)in g)return;g[e]=!0;const n=e.endsWith(".css"),o=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const t=document.createElement("link");return t.rel=n?"stylesheet":h,n||(t.as="script",t.crossOrigin=""),t.href=e,document.head.appendChild(t),n?new Promise(((e,n)=>{t.addEventListener("load",e),t.addEventListener("error",n)})):void 0}))).then((()=>e()))})((()=>import("./worldcities.10b29efa.js")),[]).then((e=>{i=e.default,console.log(i)}))})),{githubToken:e,repoOwner:l,repoName:r,collaborators:a,errorMessage:s}}});const b=r("h1",null,"GitHub Contributors Map",-1),v=r("label",{for:"personal-github-token"},"Your GitHub Token:",-1),k=r("label",{for:"repo-owner"},"Repository Owner:",-1),w=r("label",{for:"repo-name"},"Repository Name:",-1),y=r("h2",null,"Collaborators",-1),N=r("thead",null,[r("tr",null,[r("th",null,"Avatar"),r("th",null,"Login"),r("th",null,"Name"),r("th",null,"Location"),r("th",null,"URL"),r("th",null,"Geolocation")])],-1);f.render=function(e,n,o,t,c,m){return d(),l(i,null,[b,r("div",null,[r("form",null,[v,a(r("input",{id:"personal-github-token","onUpdate:modelValue":n[1]||(n[1]=n=>e.githubToken=n),name:"personal-github-token"},null,512),[[s,e.githubToken]]),k,a(r("input",{id:"repo-owner","onUpdate:modelValue":n[2]||(n[2]=n=>e.repoOwner=n),name:"repo-owner",placeholder:"owner"},null,512),[[s,e.repoOwner]]),w,a(r("input",{id:"repo-name","onUpdate:modelValue":n[3]||(n[3]=n=>e.repoName=n),name:"repo-name",placeholder:"name"},null,512),[[s,e.repoName]])])]),e.errorMessage?(d(),l("span",{key:1,textContent:p(e.errorMessage)},null,8,["textContent"])):(d(),l(i,{key:0},[y,r("table",null,[N,r("tbody",null,[(d(!0),l(i,null,u(e.collaborators,(e=>(d(),l("tr",{key:e.id},[r("td",null,[r("img",{src:e.avatarUrl,width:"128"},null,8,["src"])]),r("td",null,p(e.login),1),r("td",null,p(e.name),1),r("td",null,p(e.location),1),r("td",null,p(e.url),1),r("td",null,p(e.geolocation),1)])))),128))])])],64))],64)},c(f).mount("#app");
